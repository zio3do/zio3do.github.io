---
const links = [
  { href: '/', label: 'Home' },
  { href: '/about', label: 'About' },
  { href: '/projects', label: 'Projects' },
  { href: '/blog', label: 'Blog' },
  { href: '/contact', label: 'Contact' },
];
const { pathname } = Astro.url;
const normalize = (path) => (path.endsWith('/') ? path.slice(0, -1) : path);
const current = normalize(pathname || '/');
const isActive = (href) => normalize(href) === current;
---

<nav aria-label="Primary">
  <ul>
    {links.map((link) => (
      <li>
        <a class={isActive(link.href) ? 'active' : undefined} href={link.href}>
          {link.label}
        </a>
      </li>
    ))}
  </ul>
  <details class="nav-menu">
    <summary>Menu</summary>
    <ul>
      {links.map((link) => (
        <li>
          <a class={isActive(link.href) ? 'active' : undefined} href={link.href}>
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </details>
</nav>
